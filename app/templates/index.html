{% extends "base.html" %}

{% block content %}

<!-- ================= SEARCH BAR ================= -->
<form method="POST" action="/search" class="mb-3">

<div class="input-group">

<input type="text"
name="keyword"
class="form-control"
placeholder="Search by Title or Status">

<button class="btn btn-success">
Search
</button>

<a href="/" class="btn btn-secondary">
Reset
</a>

</div>

</form>


<!-- ================= CREATE BUTTON ================= -->
<a href="/create" class="btn btn-primary mb-3">
    Create Task
</a>


<!-- ================= TASK TABLE ================= -->
<table class="table table-bordered table-striped table-hover">

<thead class="table-dark">
<tr>
    <th>ID</th>
    <th>Title</th>
    <th>Description</th>
    <th>Status</th>
    <th>Due Date</th>
    <th>Remarks</th>
    <th>Created On</th>
    <th>Updated On</th>
    <th>Created By</th>
    <th>Updated By</th>
    <th>Action</th>
</tr>
</thead>

<tbody>

{% for task in tasks %}
<tr>

<td>{{ task[0] }}</td>

<td>
<strong>{{ task[1] }}</strong>
</td>

<td>{{ task[2] }}</td>

<td>
{% if task[4] == "Completed" %}
<span class="badge bg-success">Completed</span>

{% elif task[4] == "In Progress" %}
<span class="badge bg-warning text-dark">In Progress</span>

{% else %}
<span class="badge bg-secondary">Pending</span>
{% endif %}
</td>

<td>{{ task[3] }}</td>
<td>{{ task[5] }}</td>
<td>{{ task[6] }}</td>
<td>{{ task[7] }}</td>
<td>{{ task[8] }}</td>
<td>{{ task[9] }}</td>

<td>

<a href="/edit/{{ task[0] }}"
class="btn btn-warning btn-sm">
Edit
</a>

<a href="/delete/{{ task[0] }}"
class="btn btn-danger btn-sm"
onclick="return confirm('Delete this task?')">
Delete
</a>

</td>

</tr>
{% endfor %}

</tbody>

</table>

{% endblock %}